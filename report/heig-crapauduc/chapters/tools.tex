\chapter{Outils}

\paragraph*{But}

Nous avons constitué un repository GitHub contenant des scripts permettant de transformer les données brutes en données utilisables pour l'analyse. Ces scripts sont disponibles dans le repository utils sur GitHub.

\section{Colabeler}

Afin de réaliser les bounding boxs et les labels, nous avons utilisé le logiciel Colabeler, permettant d'annoter les images pour l'object detection. Ainsi, nous pouvons ajouter des bounding box facilement et rapidement. Il a été utilisé dans le cadre de la création du filtre de la planche et dans la constitution de l'ensemble de données de test.

\section{Conversion de format}

Nous avons écrit plusieurs petit scripts Python permettant de convertir les labels en différents formats. Il existe plusieurs manières de définir les bounding boxs. Elles peuvent être définies comme un point d'ancrage et une taille plus une hauteur ou simplement comme deux points. De plus, il existe différentes nomenclatures pour stocker ces images, telles que le format coco stocké dans un fichier .json qui est associé au dataset COCO. Il se peut que les données soient encore stockées sous forme d'un csv ou d'un fichier manifest qui peut être utile pour des services comme Amazon Sagemaker. Ainsi, nous avons créé plusieurs fonctions de conversion de csv à json, de xml à csv, ou encore de pascalvoc à csv, afin de pouvoir annoter les images avec l'outil colabeler.

\section{Comptage des labels}

Un petit script a été élaboré afin de compter les labels déjà effectués, ce qui permet d'avoir une liste des images déjà traitées et de constituer un sous-ensemble rapidement pour entraîner des algorithmes.

\section{Folder Shortener}

Ce script bash permet de simplifier le chemin d'accès aux images, pour une question de clarté et d'entretien du projet. Les chemins d'accès sont ainsi plus courts et plus lisibles, ce qui bénéficie à la compréhension du projet.

\section{Fusion des dataframes}

Nous avons également un script permettant de fusionner plusieurs fichier csv en un seul, ce qui permet de constituer un ensemble de données plus important afin de réaliser des analyses complètes. Par exemple, alors que les dossiers étaient partitionnés, notre fichier d'analyse regroupe ainsi tous les dossiers.

\section{Tri des images}

Nous avons également un script bash qui permet à partir d'une liste de fichier de déplacer tous les fichiers en une seule fois. Ainsi il est possible d'exporter un subset rapidement à partir d'une liste.

\section{Réorganisation des données}

Le script d'unnesting a permis de transformer la structure des données. Au début, la structure était partitionnée par caméra et par date, ce qui facilitait la navigation mais compliquait la gestion des fichiers. Ainsi, nous avons utilisé ce script pour changer le partitionnement uniquement par caméra, ce qui permet de gérer une arborescente moins profonde et regrouper le travail. De plus, ce script stocke les nouveaux résultats dans un csv ce qui permet de faire des analyses sur tout le dataset.
